<!DOCTYPE html>
<html>
    <head>
        <title>Feedbacks</title>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/teacher-feedback-style.css') }}">
    </head>
    <body>
        <header>
            <div class="div-left">
                <h1 class="header-text">Practicum</h1>
            </div>
            <div-right id="div-right">
                <h1 class="username">Student: {{current_user.first_name}}</h1>
                <a href="/profile_student">
                    <button type="submit" class="button1"><h1 class="menu-text">Profile</h1></button>
                </a>
                <a href="/logout">
                    <button type="submit" class="button1"><h1 class="menu-text">Log out</h1></button>
                </a>
                
            </div-right>
        </header>
        <div class="feedback-histogram">
            {% for feedback in feedbacks %}
                {% if feedback.grade == "3"%}
                    <div class="green-block"></div>
                {% elif feedback.grade == "2"%}
                    <div class="yellow-block"></div>
                {% elif feedback.grade == "1"%}
                    <div class="red-block"></div>
                {% endif %}
            {% endfor %}
        </div>
        <div class="feedbacks">
            {% for feedback in feedbacks %}
                <div class="field">
                    <div class="feedback">
                        <p>{{ feedback.message }}</p>
                    </div>
                    {% if feedback.grade == "N/A" %}
                        <form class="form" method="POST" onsubmit="window.location = `/reactions/${student_email}`;">
                            
                            <select class="dropdown">
                                <option selected disabled>Choose a reaction</option>
                                <div class="dropdown-content">
                                  <option onclick="Outstanding(feedback)" value="3">Outstanding</option>
                                  <option onclick="Neutral(feedback)" value="2">Neutral</option>
                                  <option onclick="Need_improvement(feedback)" value="1">Need improvement</option>
                                </div>
                            </select>
                        </form>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
        <script>
            function Outstanding(feedback){
                feedback.grade = "3";
            }
            
            function Nautral(feedback){
                feedback.grade = "2";
            }

            function Need_improvement(feedback){
                feedback.grade = "1";
            }
        </script>
        <footer>
            <h1 class="contact">Contact us: practicum_admin@gmail.com</h1>
        </footer>
    </body>
</html>